/*! Sortable 1.6.2 - MIT | git://github.com/rubaxa/Sortable.git */
!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,o,n,i,a,r,s,l,d,h,c,p,u,f,g,v,m,b,_,y,D={},w=/\s+/g,T=/left|right|inline/,C="Sortable"+(new Date).getTime(),E=window,S=E.document,x=E.parseInt,M=E.jQuery||E.Zepto,N=E.Polymer,k=!1,Y=!!("draggable"in S.createElement("div")),O=!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&((y=S.createElement("x")).style.cssText="pointer-events:auto","auto"===y.style.pointerEvents),B=!1,P=Math.abs,R=Math.min,X=[],A=[],I=et(function(t,e,o){if(o&&e.scroll){var n,i,a,r,h,c,p=o[C],u=e.scrollSensitivity,f=e.scrollSpeed,g=t.clientX,v=t.clientY,m=window.innerWidth,b=window.innerHeight;if(l!==o&&(s=e.scroll,l=o,d=e.scrollFn,!0===s)){s=o;do{if(s.offsetWidth<s.scrollWidth||s.offsetHeight<s.scrollHeight)break}while(s=s.parentNode)}s&&(n=s,i=s.getBoundingClientRect(),a=(P(i.right-g)<=u)-(P(i.left-g)<=u),r=(P(i.bottom-v)<=u)-(P(i.top-v)<=u)),a||r||(r=(b-v<=u)-(v<=u),((a=(m-g<=u)-(g<=u))||r)&&(n=E)),D.vx===a&&D.vy===r&&D.el===n||(D.el=n,D.vx=a,D.vy=r,clearInterval(D.pid),n&&(D.pid=setInterval(function(){if(c=r?r*f:0,h=a?a*f:0,"function"==typeof d)return d.call(p,h,c,t);n===E?E.scrollTo(E.pageXOffset+h,E.pageYOffset+c):(n.scrollTop+=c,n.scrollLeft+=h)},24)))}},30),L=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=o.name),"function"==typeof t?t:function(o,n){var i=n.options.group.name;return e?t:t&&(t.join?t.indexOf(i)>-1:i==t)}}var o={},n=t.group;n&&"object"==typeof n||(n={name:n}),o.name=n.name,o.checkPull=e(n.pull,!0),o.checkPut=e(n.put),o.revertClone=n.revertClone,t.group=o};function F(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,-1===this.el.className.indexOf("sortable")&&(this.el.className+=" sortable"),this.options=e=ot({},e),t[C]=this;var o={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackPosition:"element",fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},tableMode:!1};for(var n in o)!(n in e)&&(e[n]=o[n]);L(e);for(var i in this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&Y,H(t,"mousedown",this._onTapStart,e),H(t,"touchstart",this._onTapStart,e),H(t,"pointerdown",this._onTapStart,e),H(t,"destroy",this._destroy,e),this.nativeDraggable&&(H(t,"dragover",this,e),H(t,"dragenter",this,e)),A.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function U(e,o){"clone"!==e.lastPullMode&&(o=!0),n&&n.state!==o&&(q(n,"display",o?"none":""),o||n.state&&(e.options.group.revertClone?(i.insertBefore(n,a),e._animate(t,n)):i.insertBefore(n,t)),n.state=o)}function j(t,e,o){if(t){o=o||S;do{if(">*"===e&&t.parentNode===o||tt(t,e))return t}while(void 0,t=(i=(n=t).host)&&i.nodeType?i:n.parentNode)}var n,i;return null}function H(t,e,o,n){var i=k;n&&!0===n.hasOwnProperty("tableMode")&&!0===n.tableMode&&(i={capture:!0,passive:!1}),t.addEventListener(e,o,i)}function W(t,e,o,n){var i=k;n&&!0===n.hasOwnProperty("tableMode")&&!0===n.tableMode&&(i={capture:!0,passive:!1}),t.removeEventListener(e,o,i)}function V(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(w," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(w," ")}}function q(t,e,o){var n=t&&t.style;if(n){if(void 0===o)return S.defaultView&&S.defaultView.getComputedStyle?o=S.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),void 0===e?o:o[e];e in n||(e="-webkit-"+e),n[e]=o+("string"==typeof o?"":"px")}}function z(t,e,o){if(t){var n=t.getElementsByTagName(e),i=0,a=n.length;if(o)for(;i<a;i++)o(n[i],i);return n}return[]}function G(t,e,o,i,a,r,s,l){t=t||e[C];var d=S.createEvent("Event"),h=t.options,c="on"+o.charAt(0).toUpperCase()+o.substr(1);d.initEvent(o,!0,!0),d.to=e,d.from=a||e,d.item=i||e,d.clone=n,d.oldIndex=r,d.newIndex=s,l&&(d.clientY=l.clientY),e.dispatchEvent(d),h[c]&&h[c].call(t,d)}function Q(t,e,o,n,i,a,r,s){var l,d,h=t[C],c=h.options.onMove;return(l=S.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=o,l.draggedRect=n,l.related=i||e,l.relatedRect=a||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),c&&(d=c.call(h,l,r)),d}function Z(t){t.draggable=!1}function J(){B=!1}function K(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function $(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!tt(t,e)||o++;return o}function tt(t,e){if(t){var o=(e=e.split(".")).shift().toUpperCase(),n=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==o&&t.nodeName.toUpperCase()!=o||e.length&&((" "+t.className+" ").match(n)||[]).length!=e.length)}return!1}function et(t,e){var o,n;return function(){void 0===o&&(o=arguments,n=this,setTimeout(function(){1===o.length?t.call(n,o[0]):t.apply(n,o),o=void 0},e))}}function ot(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function nt(t){return M?M(t).clone(!0)[0]:N&&N.dom?N.dom(t).cloneNode(!0):t.cloneNode(!0)}F.prototype={constructor:F,_onTapStart:function(e){var o,n=this,i=this.el,a=this.options,s=a.preventOnFilter,l=e.type,d=e.touches&&e.touches[0],h=(d||e).target,c=e.target.shadowRoot&&e.path&&e.path[0]||h,p=a.filter;if(function(t){var e=t.getElementsByTagName("input"),o=e.length;for(;o--;){var n=e[o];n.checked&&X.push(n)}}(i),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||a.disabled)&&(h=j(h,a.draggable,i))&&r!==h){if(o=$(h,a.draggable),"function"==typeof p){if(p.call(this,e,h,this))return G(n,c,"filter",h,i,o),void(s&&e.preventDefault())}else if(p&&(p=p.split(",").some(function(t){if(t=j(c,t.trim(),i))return G(n,t,"filter",h,i,o),!0})))return void(s&&e.preventDefault());if(a.handle)if("function"==typeof a.handle){if(!1===a.handle.call(this,e,h,i,this))return}else if(!j(c,a.handle,i))return;this._prepareDragStart(e,d,h,o)}},_prepareDragStart:function(o,n,s,l){var d,h=this,c=h.el,p=h.options,f=c.ownerDocument;s&&!t&&s.parentNode===c&&(m=o,i=c,e=(t=s).parentNode,a=t.nextSibling,r=s,g=p.group,u=l,this._lastX=(n||o).clientX,this._lastY=(n||o).clientY,!1===p.tableMode&&(t.style["will-change"]="transform"),d=function(){h._disableDelayedDrag(),t.draggable=h.nativeDraggable,V(t,p.chosenClass,!0),h._triggerDragStart(o,n),G(h,i,"choose",t,i,u,o)},p.ignore.split(",").forEach(function(e){z(t,e.trim(),Z)}),H(f,"mouseup",h._onDrop,p),H(f,"touchend",h._onDrop,p),H(f,"touchcancel",h._onDrop,p),H(f,"pointercancel",h._onDrop,p),H(f,"selectstart",h,p),p.delay?(H(f,"mouseup",h._disableDelayedDrag,p),H(f,"touchend",h._disableDelayedDrag,p),H(f,"touchcancel",h._disableDelayedDrag,p),H(f,"mousemove",h._disableDelayedDrag,p),H(f,"touchmove",h._disableDelayedDrag,p),H(f,"pointermove",h._disableDelayedDrag,p),h._dragStartTimer=setTimeout(d,p.delay)):d())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),W(t,"mouseup",this._disableDelayedDrag,this.options),W(t,"touchend",this._disableDelayedDrag,this.options),W(t,"touchcancel",this._disableDelayedDrag,this.options),W(t,"mousemove",this._disableDelayedDrag,this.options),W(t,"touchmove",this._disableDelayedDrag,this.options),W(t,"pointermove",this._disableDelayedDrag,this.options)},_triggerDragStart:function(e,o){(o=o||("touch"==e.pointerType?e:null))?(m={target:t,clientX:o.clientX,clientY:o.clientY},this._onDragStart(m,"touch")):this.nativeDraggable?(H(t,"dragend",this),H(i,"dragstart",this._onDragStart)):this._onDragStart(m,!0);try{S.selection?setTimeout(function(){S.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(e){if(i&&t){var o=this.options;V(t,o.dragClass,!1),F.active=this,G(this,i,"start",t,i,u,0,e)}else this._nulling()},_emulateDragOver:function(){if(b){if(this._lastX===b.clientX&&this._lastY===b.clientY)return;this._lastX=b.clientX,this._lastY=b.clientY,O||q(o,"display","none");var t=S.elementFromPoint(b.clientX,b.clientY),e=t,n=A.length;if(!0===b.hasOwnProperty("_dragRow")&&(e=t=b._dragRow),e)do{if(e[C]){for(;n--;)A[n]({clientX:b.clientX,clientY:b.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);O||q(o,"display","")}},_onTouchMove:function(t){if(m){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,a=t.touches?t.touches[0]:t,r=(!0===e.tableMode?0:a.clientX-m.clientX)+i.x,s=(!0===e.tableMode?a.clientY-m.dragStartY:a.clientY-m.clientY)+i.y,l=t.touches?"translate3d("+r+"px,"+s+"px,0)":"translate("+r+"px,"+s+"px)";if(!F.active){if(n&&R(P(a.clientX-this._lastX),P(a.clientY-this._lastY))<n)return;this._dragStarted(t)}this._appendGhost(),_=!0,b=a,!0===m.hasOwnProperty("_dragRow")&&(b._dragRow=m._dragRow),q(o,"webkitTransform",l),q(o,"mozTransform",l),q(o,"msTransform",l),q(o,"transform",l),t.preventDefault()}},_appendGhost:function(){if(!o){var e,n=t.getBoundingClientRect(),a=q(t),r=this.options;o=t.cloneNode(!0),!0===r.tableMode&&V(o,r.chosenClass,!1),!0===r.tableMode?V(o,r.ghostClass,!0):V(o,r.ghostClass,!1),V(o,r.fallbackClass,!0),V(o,r.dragClass,!0),"cursor"===r.fallbackPosition?(q(o,"top",this._lastY-10),q(o,"left",this._lastX-20)):(q(o,"top",n.top-x(a.marginTop,10)),q(o,"left",n.left-x(a.marginLeft,10))),q(o,"width",n.width),q(o,"height",n.height),q(o,"opacity","0.8"),q(o,"position","fixed"),q(o,"zIndex","100000"),q(o,"pointerEvents","none"),r.fallbackOnBody&&S.body.appendChild(o)||i.appendChild(o),e=o.getBoundingClientRect(),q(o,"width",2*n.width-e.width),q(o,"height",2*n.height-e.height)}},_onDragStart:function(e,o){var a=e.dataTransfer,r=this.options;this._offUpEvents(),!1===r.tableMode&&g.checkPull(this,this,t,e)&&((n=nt(t)).draggable=!1,n.style["will-change"]="",q(n,"display","none"),V(n,this.options.chosenClass,!1),i.insertBefore(n,t),G(this,i,"clone",t)),V(t,r.dragClass,!0),o?("touch"===o?(H(S,"touchmove",this._onTouchMove,r),H(S,"touchend",this._onDrop,r),H(S,"touchcancel",this._onDrop,r),H(S,"pointermove",this._onTouchMove,r),H(S,"pointerup",this._onDrop,r)):(H(S,"mousemove",this._onTouchMove,r),H(S,"mouseup",this._onDrop,r)),this._loopId=setInterval(this._emulateDragOver,50)):(a&&(a.effectAllowed="move",r.setData&&r.setData.call(this,a,t)),H(S,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(r){var s,l,d,u,f,m,b=this.el,y=this.options,D=y.group,w=F.active,E=g===D,S=!1,x=y.sort;if((void 0!==r.preventDefault&&(r.preventDefault(),!y.dragoverBubble&&r.stopPropagation()),!t.animated)&&(_=!0,w&&!y.disabled&&(E?x||(u=!i.contains(t)):v===this||(w.lastPullMode=g.checkPull(this,w,t,r))&&D.checkPut(this,w,t,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(I(r,y,this.el),B)return;if(s=j(r.target,y.draggable,b),l=t.getBoundingClientRect(),v!==this&&(v=this,S=!0),u)return U(w,!0),e=i,void(n||a?i.insertBefore(t,n||a):x||i.appendChild(t));if(0===b.children.length||b.children[0]===o||b===r.target&&(f=r,m=b.lastElementChild.getBoundingClientRect(),f.clientY-(m.top+m.height)>5||f.clientX-(m.left+m.width)>5)){if(0!==b.children.length&&b.children[0]!==o&&b===r.target&&(s=b.lastElementChild),s){if(s.animated)return;d=s.getBoundingClientRect()}U(w,E),!1!==Q(i,b,t,l,s,d,r)&&(t.contains(b)||(b.appendChild(t),e=b),this._animate(l,t),s&&this._animate(d,s))}else if(s&&!s.animated&&(!1===this.options.tableMode&&s!==t||!0===this.options.tableMode)&&void 0!==s.parentNode[C]){h!==s&&(h=s,c=q(s),p=q(s.parentNode));var M=(d=s.getBoundingClientRect()).right-d.left,N=d.bottom-d.top,k=T.test(c.cssFloat+c.display)||"flex"==p.display&&0===p["flex-direction"].indexOf("row"),Y=s.offsetWidth>t.offsetWidth,O=s.offsetHeight>t.offsetHeight,P=(k?(r.clientX-d.left)/M:(r.clientY-d.top)/N)>.5,R=s.nextElementSibling,X=!1;if(k){var A=t.offsetTop,L=s.offsetTop;X=A===L?s.previousElementSibling===t&&!Y||P&&Y:s.previousElementSibling===t||t.previousElementSibling===s?(r.clientY-d.top)/N>.5:L>A}else S||(X=R!==t&&!O||P&&O);var H=Q(i,b,t,l,s,d,r,X);!1!==H&&(1!==H&&-1!==H||(X=1===H),B=!0,setTimeout(J,30),U(w,E),!1===this.options.tableMode&&(t.contains(b)||(X&&!R?b.appendChild(t):(s.parentNode.insertBefore(t,X?R:s),console.log("added ",t," to target.parentNode")))),e=t.parentNode,!1===this.options.tableMode&&(this._animate(l,t),this._animate(d,s)))}}},_animate:function(t,e){var o=this.options.animation;if(o){var n=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),q(e,"transition","none"),q(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,q(e,"transition","all "+o+"ms"),q(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){q(e,"transition",""),q(e,"transform",""),e.animated=!1},o)}},_offUpEvents:function(){var t=this.el.ownerDocument;W(S,"touchmove",this._onTouchMove,this.options),W(S,"pointermove",this._onTouchMove,this.options),W(t,"mouseup",this._onDrop,this.options),W(t,"touchend",this._onDrop,this.options),W(t,"pointerup",this._onDrop,this.options),W(t,"touchcancel",this._onDrop,this.options),W(t,"pointercancel",this._onDrop,this.options),W(t,"selectstart",this,this.options)},_onDrop:function(r){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(D.pid),clearTimeout(this._dragStartTimer),W(S,"mousemove",this._onTouchMove,l),this.nativeDraggable&&(W(S,"drop",this,l),W(s,"dragstart",this._onDragStart,l)),this._offUpEvents(),r&&(_&&(r.preventDefault(),!l.dropBubble&&r.stopPropagation()),o&&o.parentNode&&o.parentNode.removeChild(o),i!==e&&"clone"===F.active.lastPullMode||n&&n.parentNode&&n.parentNode.removeChild(n),t&&(this.nativeDraggable&&W(t,"dragend",this,l),Z(t),!1===l.tableMode&&(t.style["will-change"]=""),!1===l.tableMode&&V(t,this.options.ghostClass,!1),V(t,this.options.chosenClass,!1),G(this,i,"unchoose",t,i,u),i!==e?(f=$(t,l.draggable))>=0&&(G(null,e,"add",t,i,u,f),G(this,i,"remove",t,i,u,f),G(null,e,"sort",t,i,u,f),G(this,i,"sort",t,i,u,f)):t.nextSibling!==a&&(f=$(t,l.draggable))>=0&&(G(this,i,"update",t,i,u,f),G(this,i,"sort",t,i,u,f)),F.active&&(null!=f&&-1!==f||(f=u),G(this,i,"end",t,i,u,f),this.save()))),this._nulling()},_destroy:function(){this.destroy()},_nulling:function(){i=t=e=o=a=n=r=s=l=m=b=_=f=h=c=v=g=F.active=null,X.forEach(function(t){t.checked=!0}),X.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],o=this.el.children,n=0,i=o.length,a=this.options;n<i;n++)j(t=o[n],a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||K(t));return e},sort:function(t){var e={},o=this.el;this.toArray().forEach(function(t,n){var i=o.children[n];j(i,this.options.draggable,o)&&(e[t]=i)},this),t.forEach(function(t){e[t]&&(o.removeChild(e[t]),o.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return j(t,e||this.options.draggable,this.el)},option:function(t,e){var o=this.options;if(void 0===e)return o[t];o[t]=e,"group"===t&&L(o)},destroy:function(){var t=this.el;t[C]=null,W(t,"mousedown",this._onTapStart,this.options),W(t,"touchstart",this._onTapStart,this.options),W(t,"pointerdown",this._onTapStart,this.options),W(t,"destroy",this._destroy,this.options),this.nativeDraggable&&(W(t,"dragover",this,this.options),W(t,"dragenter",this,this.options)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),A.splice(A.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},H(S,"touchmove",function(t){F.active&&t.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){k={capture:!1,passive:!1}}}))}catch(t){}return F.utils={on:H,off:W,css:q,find:z,is:function(t,e){return!!j(t,e,t)},extend:ot,throttle:et,closest:j,toggleClass:V,clone:nt,index:$},F.create=function(t,e){return new F(t,e)},F.destroy=function(t){var e;(e=S.createEvent("Event")).initEvent("destroy",!1,!1),t.dispatchEvent(e)},F.version="1.6.2",F});